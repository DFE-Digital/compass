@model FipsReporting.Data.Objective

@{
    ViewData["Title"] = "Edit Objective";
    ViewData["ActiveNav"] = "admin";
    ViewData["ActiveNavItem"] = "manage-objectives";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section BeforeContent {
    <div class="dfe-masthead dfe-masthead--with-links">
        <div class="govuk-width-container">
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-full">
                    <span class="govuk-caption-l govuk-!-margin-top-6">COMPASS admin</span>
                    <h1 class="govuk-heading-xl">@Model.Title</h1>
                    <p class="govuk-body-l govuk-!-margin-bottom-0">@Model.Reference</p>
                </div>
            </div>
        </div>
    </div>
}

<div class="govuk-grid-row">
    <!-- Vertical Navigation -->
    <div class="govuk-grid-column-one-quarter">
        <a href="@Url.Action("Index")" class="govuk-back-link  govuk-!-margin-bottom-7">Back to objectives</a>
                <nav class="dfe-vertical-nav" data-module="dfe-vertical-nav">
                    <ul class="dfe-vertical-nav__section">
                        <li class="dfe-vertical-nav__section-item @(ViewData["ActiveNavItem"]?.ToString() == "manage-objectives" ? "dfe-vertical-nav__section-item--current" : "")">
                            <a class="dfe-vertical-nav__link govuk-link govuk-link--no-visited-state govuk-link--no-underline" href="@Url.Action("Details", new { id = Model.Id })">
                                Objective details
                            </a>
                        </li>
                        <li class="dfe-vertical-nav__section-item @(ViewData["ActiveNavItem"]?.ToString() == "linked-milestones" ? "dfe-vertical-nav__section-item--current" : "")">
                            <a class="dfe-vertical-nav__link govuk-link govuk-link--no-visited-state govuk-link--no-underline" href="@Url.Action("Milestones", new { id = Model.Id })">
                                Linked milestones
                            </a>
                        </li>
                    </ul>
                </nav>
    </div>

    <!-- Main Content -->
    <div class="govuk-grid-column-three-quarters">
     <h2 class="govuk-heading-l">Edit objective</h2>
                <form asp-action="Edit" method="post">
                    <input asp-for="Id" type="hidden" />
                    <input asp-for="CreatedAt" type="hidden" />
                    <input asp-for="CreatedBy" type="hidden" />
                    
                    <div class="govuk-form-group">
                        <label asp-for="Reference" class="govuk-label">
                            Reference code
                        </label>
                        <div class="govuk-hint">
                            A unique reference code for this objective (e.g., DDT-001, GM-2024-01)
                        </div>
                        <input asp-for="Reference" class="govuk-input" placeholder="e.g., DDT-001" />
                        <span asp-validation-for="Reference" class="govuk-error-message"></span>
                    </div>

                    <div class="govuk-form-group">
                        <label asp-for="Title" class="govuk-label">
                            Title
                        </label>
                        <input asp-for="Title" class="govuk-input" placeholder="Enter objective title" />
                        <span asp-validation-for="Title" class="govuk-error-message"></span>
                    </div>

                    <div class="govuk-form-group">
                        <label asp-for="Description" class="govuk-label">
                            Description
                        </label>
                        <div class="govuk-hint">
                            Provide a detailed description of this objective
                        </div>
                        <textarea asp-for="Description" class="govuk-textarea" rows="4" placeholder="Enter objective description"></textarea>
                        <span asp-validation-for="Description" class="govuk-error-message"></span>
                    </div>

                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset">
                            <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
                                Objective type
                            </legend>
                            <div class="govuk-radios" data-module="govuk-radios">
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" asp-for="Type" type="radio" value="DDT Objective" id="type-ddt">
                                    <label class="govuk-label govuk-radios__label" for="type-ddt">
                                        DDT Objective
                                    </label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" asp-for="Type" type="radio" value="Government Mission" id="type-gov-mission">
                                    <label class="govuk-label govuk-radios__label" for="type-gov-mission">
                                        Government Mission
                                    </label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" asp-for="Type" type="radio" value="Flagship" id="type-flagship">
                                    <label class="govuk-label govuk-radios__label" for="type-flagship">
                                        Flagship
                                    </label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" asp-for="Type" type="radio" value="Other" id="type-other">
                                    <label class="govuk-label govuk-radios__label" for="type-other">
                                        Other
                                    </label>
                                </div>
                            </div>
                        </fieldset>
                        <span asp-validation-for="Type" class="govuk-error-message"></span>
                    </div>

                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset">
                            <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
                                Status
                            </legend>
                            <div class="govuk-radios" data-module="govuk-radios">
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" asp-for="Status" type="radio" value="Active" id="status-active">
                                    <label class="govuk-label govuk-radios__label" for="status-active">
                                        Active
                                    </label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" asp-for="Status" type="radio" value="Completed" id="status-completed">
                                    <label class="govuk-label govuk-radios__label" for="status-completed">
                                        Completed
                                    </label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" asp-for="Status" type="radio" value="Cancelled" id="status-cancelled">
                                    <label class="govuk-label govuk-radios__label" for="status-cancelled">
                                        Cancelled
                                    </label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" asp-for="Status" type="radio" value="On Hold" id="status-on-hold">
                                    <label class="govuk-label govuk-radios__label" for="status-on-hold">
                                        On Hold
                                    </label>
                                </div>
                            </div>
                        </fieldset>
                        <span asp-validation-for="Status" class="govuk-error-message"></span>
                    </div>

                    <div class="govuk-inset-text">
                        <p class="govuk-body">
                            <strong>Created:</strong> @Model.CreatedAt.ToString("dd MMM yyyy HH:mm")
                            @if (!string.IsNullOrEmpty(Model.CreatedBy))
                            {
                                <br><small>by @Model.CreatedBy</small>
                            }
                        </p>
                        <p class="govuk-body">
                            <strong>Last Updated:</strong> @Model.UpdatedAt.ToString("dd MMM yyyy HH:mm")
                            @if (!string.IsNullOrEmpty(Model.UpdatedBy))
                            {
                                <br><small>by @Model.UpdatedBy</small>
                            }
                        </p>
                    </div>

                    <div class="govuk-button-group">
                        <button type="submit" class="govuk-button">Update Objective</button>
                        <a href="@Url.Action("Details", new { id = Model.Id })" class="govuk-button govuk-button--secondary">Cancel</a>
                    </div>
                </form>
    </div>
</div>
</div>
